FROM node:16

ARG CLIENT_ID
ARG PAYPAL_CLIENT_SECRET
ARG MERCHANT_ID
ARG NODE_ENV
ARG APP_SECRET

ENV CLIENT_ID=$CLIENT_ID
ENV PAYPAL_CLIENT_SECRET=$PAYPAL_CLIENT_SECRET
ENV NODE_ENV=$NODE_ENV
ENV APP_SECRET=$APP_SECRET
ENV MERCHANT_ID=$MERCHANT_ID

WORKDIR /app
COPY package.json ./
RUN npm install --production

COPY . .



CMD ["node", "server.js"]
